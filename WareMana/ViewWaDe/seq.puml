@startuml

actor "Warehouse Manager" as Manager
participant ":WarehouseUI" as UI
participant ":WarehouseController" as Controller
participant ":IWarehouseService" as Service
participant ":IRepository<Warehouse>" as Repo

activate Manager
Manager -> UI: 1 Nhấn vào một kho hàng để xem chi tiết
activate UI
UI -> Controller: 2.1 Gửi yêu cầu (GET /api/Warehouse/{id})
activate Controller

alt 
    Controller -> Service: 2.2 GetById(id)
    activate Service
    Service -> Repo: 2.3 GetByIdAsync(id)
    activate Repo
    Repo --> Service: 2.4 Trả về Warehouse entity
    deactivate Repo
    Service --> Controller: 2.5 ApiResponse.Success(Warehouse)
    deactivate Service
    Controller --> UI: 2.6 200 OK (JSON data)
    deactivate Controller
    UI -> Manager: 3 Hiển thị thông tin chi tiết kho hàng
    deactivate UI
else 
    Controller -> Service: 2.2b GetById(id)
    activate Service
    Service -> Repo: 2.3b GetByIdAsync(id)
    activate Repo
    Repo --> Service: 2.4b Trả về null
    deactivate Repo
    Service --> Controller: 2.5b ApiResponse.Fail("Không tìm thấy kho hàng")
    deactivate Service
    Controller --> UI: 2.6b Phản hồi lỗi (200 OK, Success=false)
    deactivate Controller
    UI -> Manager: 3b Hiển thị thông báo lỗi
    deactivate UI
end

deactivate Manager
@enduml